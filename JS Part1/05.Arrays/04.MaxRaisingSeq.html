<!-- Write a script that finds the maximal increasing sequence in an array. 
	Example: {3, 2, 3, 4, 2, 2, 4} ïƒ  {2, 3, 4}. -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 4 - Maximum sequence of raising numbers</title>
</head>
<body>
	<script type="text/javascript">
		function generateArray() {
			var i;
			arr = new Array(Math.floor(Math.random() * 20) + 40);
			for (i = 0; i < arr.length; i++) {
				arr[i] = Math.floor(Math.random() * 10) + 1;
			}

			return arr;
		}

		function findMaxSeq1(){
			var i, maxLenSoFar = 1;
			arr.seq1Start = 0;
			arr.seq1Len = 1;
			for (var i = 1; i < arr.length; i++) {
				if (arr[i] === arr[i-1] + 1) {
					maxLenSoFar++;
				} else {
					if (maxLenSoFar > arr.seq1Len) {
						arr.seq1Start = i - maxLenSoFar;
						arr.seq1Len = maxLenSoFar;
					}

					maxLenSoFar = 1;
				}
			}
			if (maxLenSoFar > arr.seq1Len) {
				arr.seq1Start = i - maxLenSoFar;
				arr.seq1Len = maxLenSoFar;
			}
		}


		function findMaxSeq2(){
			var i, maxLenSoFar = 1;
			arr.seq2Start = 0;
			arr.seq2Len = 1;
			for (var i = 1; i < arr.length; i++) {
				if (arr[i] > arr[i-1]) {
					maxLenSoFar++;
				} else {
					if (maxLenSoFar > arr.seq2Len) {
						arr.seq2Start = i - maxLenSoFar;
						arr.seq2Len = maxLenSoFar;
					}

					maxLenSoFar = 1;
				}
			}
			if (maxLenSoFar > arr.seq2Len) {
				arr.seq2Start = i - maxLenSoFar;
				arr.seq2Len = maxLenSoFar;
			}
		}

		function prntArr() {
			document.writeln('<span>Generated array:');
			for(var i = 0; i < arr.length; i++){
				if (i === arr.seq1Start) {
					document.write('</span><span style="background:red">');
				}

				if (i === arr.seq1Start + arr.seq1Len) {
					document.write('</span><span style="background:white">');
				}

				if (i === arr.seq2Start) {
					document.write('</span><span style="background:green">');
				}

				if (i === arr.seq2Start + arr.seq2Len) {
					document.write('</span><span style="background:white">');
				}

				document.writeln(arr[i] + ", ");
			}
		document.writeln('</span><br>');
		}

		var arr = generateArray();
		findMaxSeq1();
		findMaxSeq2();
		prntArr();
		document.writeln('Maximal sequence of elements increased by 1 start at ' + arr.seq1Start + ' and is ' + arr.seq1Len + ' digit long (marked <span style="background:red">red</span>) <br>');
		document.writeln('Maximal raising sequence of elements start at ' + arr.seq2Start + ' and is ' + arr.seq2Len + ' digit long (marked <span style="background:green">green</span>) <br>');
	</script>
</body>
</html>