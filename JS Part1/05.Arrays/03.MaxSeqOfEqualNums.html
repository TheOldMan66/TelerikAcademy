<!-- Write a script that finds the maximal sequence of equal elements in an array.
		Example: {2, 1, 1, 2, 3, 3, 2, 2, 2, 1} ïƒ  {2, 2, 2}... -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 3 - Maximum sequence of equal numbers</title>
</head>
<body>
	<script type="text/javascript">
		function generateArray() {
			var i;
			arr = new Array(Math.floor(Math.random() * 20) + 20);
			for (i = 0; i < arr.length; i++) {
				arr[i] = Math.floor(Math.random() * 5) + 1;
			}

			return arr;
		}

		function findMaxSeq(){
			var i, maxLenSoFar = 1;
			arr.seqStart = 0;
			arr.seqLen = 1;
			for (var i = 1; i < arr.length; i++) {
				if (arr[i] === arr[i-1]) {
					maxLenSoFar++;
				} else {
					if (maxLenSoFar > arr.seqLen) {
						arr.seqStart = i - maxLenSoFar;
						arr.seqLen = maxLenSoFar;
					}

					maxLenSoFar = 1;
				}
			}
			if (maxLenSoFar > arr.seqLen) {
				arr.seqStart = i - maxLenSoFar;
				arr.seqLen = maxLenSoFar;
			}
		}

		function prntArr() {
			document.writeln('<span>Generated array:');
			for(var i = 0; i < arr.length; i++){
				if (i === arr.seqStart) {
					document.write('</span><span style="background:red">');
				}

				if (i === arr.seqStart + arr.seqLen) {
					document.write('</span><span style="background:white">');
				}

				document.writeln(arr[i] + ", ");
			}
		document.writeln('</span><br>');
		}

		var arr = generateArray();
		findMaxSeq();
		prntArr();
		document.writeln("Maximal sequence of equal elements start at " + arr.seqStart + " and is " + arr.seqLen + " digit long");
	</script>
</body>
</html>