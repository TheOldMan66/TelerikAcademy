<!-- Write a program that finds the most frequent number in an array. Example:
	{4, 1, 1, 4, 2, 3, 4, 4, 1, 2, 4, 9, 3} ïƒ  4 (5 times). -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 6 - Most frequent element</title>
</head>
<body>
	<script type="text/javascript">
		function generateArray() {
			var i;
			arr = new Array(Math.floor(Math.random() * 20) + 30);
			for (i = 0; i < arr.length; i++) {
				arr[i] = Math.floor(Math.random() * 10);
			}

			return arr;
		}

		function countElements() {
			var freq = {};
			var max = new Array ();
			max.count = 0  ;
			for (var i = arr.length - 1; i >= 0; i--) {
				if (freq[arr[i]] === undefined) {
					freq[arr[i]] = 1;
				} else {
					freq[arr[i]]++;
					if (freq[arr[i]] > max.count) {
						max.count++;
						max.number = arr[i];
					}
				}
			}
			return max;
		}
		function printArr(max){
			for (var i = arr.length - 1; i >= 0; i--) {
				if (arr[i] === max) {
					document.writeln('</span><span style="background-color:red">' + arr[i] + '</span><span>, ')
				} else {
					document.writeln(arr[i] + ', ');
				}
			}
		}

		var arr = generateArray();
		document.writeln("Generated array: <br> <span>")
		var max = countElements();
		printArr(max.number);
		document.writeln("<br>Most frequent number is " + max.number + ". Occurred " + max.count + " times.");
	</script>
</body>
</html>