<!-- Write a function that replaces non breaking white-spaces in a text with &nbsp; -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 4 - Casing tags</title>
	<script type="text/javascript">
		function replaceSpaces(expression) {
			var spacesPos = [],
				result = "",
				prevIndex = 0;
				i = expression.indexOf(' ');


			while(i > -1){
				spacesPos.push(i);
				i = expression.indexOf(' ',i + 1);				
			}
			prevIndex = 0;
			for (var i = 0, len = spacesPos.length; i < len; i++) {
				result = result + expression.substring(prevIndex,spacesPos[i]) + '&nbsp';
				prevIndex = spacesPos[i]+1;
			};
			result = result + expression.substr(prevIndex);
			console.log(result);
			return result;
		}
	</script>
</head>
<body>
	<label for "tbInput">Enter sentence: </label>
	<input type="text" style="width:600px" id="tbInput">
	<button onclick="escapeSpaces()">Modify whitespaces</button>
	<div id="result"></div>
	<script type="text/javascript">
		var sentence = "We are living in an yellow submarine. We don't have anything else. Inside the submarine is very tight.";
		document.getElementById('tbInput').value = sentence;
		function escapeSpaces() {
			sentence = document.getElementById('tbInput').value;
			document.getElementById('result').innerHTML = 'Result: ' + replaceSpaces(sentence) + '<br> For more information look output at console or inspect element above.';
		}
	</script>
</body>
</html>