<!-- Write a function that makes a deep copy of an object. The function should work for both primitive and reference types. -->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 3 - Deep copy</title>
	<script type="text/javascript">
		function deepCopy(sourceObject){
			if (typeof sourceObject !== 'object' || sourceObject === null ) {
				return sourceObject;
			} else if (sourceObject instanceof Date) {
				return new Date(sourceObject);
			} else if (sourceObject instanceof Array) {
				var copy = [];
				for (var i in sourceObject) {
					copy[i] = deepCopy(sourceObject[i]);
				}
				return copy;
			} else if (sourceObject instanceof Object) {
				var copy = {};
				for (var i in sourceObject) {
					copy[i] = deepCopy(sourceObject[i]);
				}
				return copy;
			}
		}

	</script>
</head>
<body>
	<script type="text/javascript">
		var numVar = 5,
			nullVar = null;
			strVar = 'Doncho Minkov'
			boolVar = true,
			arrVar = [4, 'gosho', [2,3], false],
			objVar = {fname: 'Doncho', 
					  lname: 'Minkov', 
					  toString: function(){return this.fname + ' ' + this.lname;}
					};
			document.writeln('See output on console (press F12).');

			console.log('Number. Original: ');
			console.log(numVar);
			console.log('Copy: ')
			console.log(deepCopy(numVar));
			console.log('Null. Original: ');
			console.log(nullVar);
			console.log('Copy: ')
			console.log(deepCopy(nullVar));
			console.log('String. Original: ');
			console.log(strVar);
			console.log('Copy: ')
			console.log(deepCopy(strVar));
			console.log('Boolean. Original: ');
			console.log(boolVar);
			console.log('Copy: ')
			console.log(deepCopy(boolVar));
			console.log('Array. Original: ');
			console.log(arrVar);
			console.log('Copy: ')
			console.log(deepCopy(arrVar));
			console.log('Object. Original: ');
			console.log(objVar);
			console.log('Copy: ')
			console.log(deepCopy(objVar));
	</script>
</body>
</html>