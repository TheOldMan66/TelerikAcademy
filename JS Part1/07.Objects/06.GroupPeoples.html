<!-- Write a function that groups an array of persons by age, first or last name. The function must return an associative array, 
with keys - the groups, and values -arrays with persons in this groups
	var persons = {…};
	var groupedByFname = group(persons, 'firstname');
	var groupedByAge= group(persons, 'age');
Use function overloading (i.e. just one function) -->

<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>Task 5 - Find youngest person</title>
	<script type='text/javascript'>
		function Person(firstName, lastName, age) {
			return {firstname: firstName,
					lastname: lastName,
					age: age,
					toString: function () {
			    		return this.firstname + ' ' + this.lastname + ' - age ' + this.age;
					}
			}
		}

		function group(persons,criteria){
			var result = [];
			if(!persons[0] instanceof Person){
				return null;
			}

			for (var i = 0, len = persons.length; i < len; i++) {
				if (result[persons[i][criteria]] === undefined) {
					result[persons[i][criteria]] = [];
					result[persons[i][criteria]][0] = persons[i];
				} else {
					result[persons[i][criteria]].push(persons[i]);
				}
			}

			return result;
		}

		function printGroup (persons) {
			var keys = Object.keys(persons);
			for (var key = 0, keyLen = keys.length; key < keyLen; key++) {
				document.writeln(keys[key] + ':<br>');
				for (var item = 0, itemLen = persons[keys[key]].length; item < itemLen; item++) {
					document.writeln(persons[keys[key]][item] + '<br>');
				}
			}
		}

	</script>
</head>
<body>
	<script type='text/javascript'>
  		var persons = [];
		var youngest;
		persons.push(new Person('Ivan', 'Minkov', 27));
		persons.push(new Person('Pesho', 'Grigorov', 81));
		persons.push(new Person('Ivaylo', 'Kostov', 76));
		persons.push(new Person('Stamat', 'Vasilev', 19));
		persons.push(new Person('Lora', 'Stefanova', 76));
		persons.push(new Person('Ivan', 'Antonov', 92));
		persons.push(new Person('Stefan', 'Kostov', 27));
		persons.push(new Person('Doncho', 'Minkov', 29));
		persons.push(new Person('Ivaylo', 'Kenov', 26));
		persons.push(new Person('Nikolay', 'Kostov', 29));
		persons.push(new Person('Svetlin', 'Nakov', 35));
		document.writeln('List of persons:<br>');
		for (var i = 0, len = persons.length; i < len; i++){
			document.writeln(persons[i] + '<br>');
		}

		var groupedByFirstName = group(persons,'firstname');
		var groupedByLastName = group(persons,'lastname');
		var groupedByAge = group(persons,'age');
		document.writeln('<br> Grouped  by First Name: <br>');
		printGroup(groupedByFirstName);
		document.writeln('<br> Grouped  by Last Name: <br>');
		printGroup(groupedByLastName);
		document.writeln('<br> Grouped  by Аgе: <br>');
		printGroup(groupedByAge);
	</script>
</body>
</html>