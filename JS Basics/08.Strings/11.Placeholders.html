<!-- 
	Write a function that formats a string using placeholders:
		var str = stringFormat("Hello {0}!","Peter");
		//str = "Hello Peter!";
	The function should work with up to 30 placeholders and all types.
		var format = "{0}, {1}, {0} text {2}";
		var str = stringFormat(format,1,"Pesho","Gosho");
		//str = "1, Pesho, 1 text Gosho"
-->

<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Task 10 - Placeholders</title>
	<script type="text/javascript">

		function stringFormat(expression) {
			var stringToFormat = expression,
				placeholderStart = expression.indexOf('{'),
				prevPlaceholderEnd = 0,
				placeholderNumber = 0,
				result = '';

				if(placeholderStart === -1) {
					return expression;
				}

				while(placeholderStart > -1) {
					placeholderNumber = parseInt(expression.substring(placeholderStart+1));
					result = result + expression.substring(prevPlaceholderEnd, placeholderStart) + arguments[placeholderNumber + 1];
					prevPlaceholderEnd = placeholderStart + String(placeholderNumber).length + 2;
					placeholderStart = stringToFormat.indexOf('{', prevPlaceholderEnd);
				}

			result = result + expression.substring(prevPlaceholderEnd);
			return result;
		}

	</script>
</head>
<body>
	<script type="text/javascript">
		document.writeln('First test case: <br> Input  : stringFormat("Hello. My name is {0} {1}, and I\'m {2} years old","Ivan","Petrov", 22)<br>');
		document.writeln('Output : ' + stringFormat("Hello. My name is {0} {1}, and I\'m {2} years old.","Ivan","Petrov", 22) + '<br>');
		document.writeln('<br>Second test case: stringFormat("{0}, {1}, {0} text {2}", 1,"Pesho","Gosho")<br>');
		document.writeln('Output : ' + stringFormat("{0}, {1}, {0} text {2}", 1,"Pesho","Gosho"));
	</script>
</body>
</html>